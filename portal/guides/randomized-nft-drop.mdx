---
title: Deploy a randomized NFT drop without writing any code
author: "Waren Gonzaga"
authorAvatar: "/assets/portal/authors/waren.jpg"
authorTwitter: "https://twitter.com/warengonzaga"
draft: false
tags: [nft-drop, embed, no-code, batch-upload]
summary: "Learn how to randomize your NFT drop with no-code."
image: "/assets/portal/guides/randomized-nft-drop/thumbnail.png"
date: "2022-04-23"
updated: "2022-04-23"
---

## Intro

Let‚Äôs say you are ready to launch your first NFT project but you want it to be randomized for your community to mint. This is possible without writing any code by just using the thirdweb dashboard.

In this guide, we‚Äôll [deploy a collection using the NFT drop contract](https://portal.thirdweb.com/guides/release-an-nft-drop-with-no-code), then we‚Äôll shuffle the metadata arrangement and **batch upload** it to the dashboard to make the order completely random.

Keep in mind that we are shuffling the arrangement of the metadata only not the token ID of your NFT. So your NFT number would be different from your token ID when we upload it to the dashboard. If that‚Äôs good with you let‚Äôs start the hack!

## Setup

### Create a contract

Let‚Äôs assume you‚Äôve already a MetaMask wallet, if not please follow our [create a MetaMask wallet tutorial](https://portal.thirdweb.com/guides/create-a-metamask-wallet). We‚Äôre going to use Polygon Testnet Mumbai for this guide instead of using Mainnets (Ethereum, Polygon, Fantom, Avalanche, etc...). We‚Äôll be needing some test balance for the Mumbai Testnet, please follow our tutorial on [how to get Matic on Polygon Mumbai Testnets](https://portal.thirdweb.com/guides/get-matic-on-polygon-mumbai-testnet-faucet). Lastly, the image assets to use! Feel free to use the same images I use for this guide, you can [download the image assets here](/assets/portal/guides/randomized-nft-drop/ipfs_re_images.zip).

Now, let‚Äôs head over to the [thirdweb dashboard](https://thirdweb.com/dashboard) and **create a new contract** and select **Mumbai**.

![Create a new nft drop contract](/assets/portal/guides/randomized-nft-drop/create-a-new-nft-drop-contract.png)

After that, you‚Äôll be asked on the next screen *What do you want to build?* Just select **Release a drop** then **NFT drop**.

![Choose 'Release a drop'](/assets/portal/guides/randomized-nft-drop/choose-a-release-drop.png)

Here‚Äôs my **NFT drop contract** information, fill it up with your own information. For this guide, I‚Äôll keep the percentage **as is** but you can put whatever you want value. The ideal for me would be 5% but still, it‚Äôs up to you. After that, **click deploy** and **confirm the transaction**.

![Fill up the contract form](/assets/portal/guides/randomized-nft-drop/fill-up-the-contract-form.png)

Once the transaction has been confirmed you will see the dashboard of your NFT drop contract and see something like this below.

![Set up claim phases](/assets/portal/guides/randomized-nft-drop/set-up-claim-phases.png)

You will need to set up your contract‚Äôs claim phases before we proceed to the next step. In this guide, I will not cover this, feel free to learn more about how to [create nft drop with claim phases here](https://portal.thirdweb.com/guides/create-nft-drop-with-claim-phases).

## Upload the Assets to IPFS

This time, we are not going to upload our image assets directly to the dashboard. Instead, we are going to upload these to the IPFS using a pinning service like [Pinata](https://pinata.cloud). You can [learn more about IPFS and pinning services here](https://portal.thirdweb.com/guides/securing-pinning-your-nft-with-ipfs). It is important to upload our image assets ahead of time so we can specify them in the metadata to make sure that the NFT data matches the image assets when we randomize it.

### Prepare the Assets

Let‚Äôs prepare the assets by creating a folder in your working directory. Name it whatever you like but for me, I‚Äôll name it `ipfs_re_images` this is for my personal consistency. Place your image assets inside that folder and make sure that your file naming must be sequential (e.g `1.png`, `2.png`, `3.png`, and so on...), and doesn‚Äôt matter at what number you begin.

### Upload to IPFS

Create an account in [Pinata](https://pinata.cloud), in the dashboard click the **upload** button, and select the **folder**.

![Upload your files](/assets/portal/guides/randomized-nft-drop/upload-your-files.png)

Now select the folder we created earlier and **click the upload** confirmation. After that, name your folder, for me let‚Äôs use the same folder name. Wait for the upload to finish and let‚Äôs move to the next step.

## Randomize the Metadata

Here‚Äôs the exciting part of this guide, we will learn how to shuffle the NFT‚Äôs order in the metadata file to make it random before we upload it to the thirdweb dashboard. The thirdweb‚Äôs **batch upload** for drops contract supports two file formats for NFT metadata which are **CSV** and **JSON**.

We‚Äôll cover both file formats in this guide, feel free to skip to the file format you have right now, for now, let‚Äôs start with the easiest format which is the **CSV** file. After this, we can go to the **JSON** file.

### Randomize CSV file

Randomizing NFT data in a **CSV** file is pretty easy and straightforward. We are going to use Google Sheets for this guide for the reason it is easy for me to share it and we are going to use some of the features from Google Sheets that might not be present in other spreadsheet programs.

You can get my [sample NFT data here](https://docs.google.com/spreadsheets/d/1ulejwwTQDcpmG01QD8x6IEhoyMU_VTd3dUzDCvcqioA/edit?usp=sharing), download it, or copy-paste it to your own sheet.

![Sample metadata](/assets/portal/guides/randomized-nft-drop/sample-metadata.png)

As you can see we are using typical metadata for our NFT drop, nothing special. Until we shuffle it, but before we shuffle it, how about the images associated with each NFT data? We‚Äôre gonna add them to each row using the `image` column.

First, create a new column and name it `image`, next add a few numbers below it. Match the number with your NFT number, for example below.

![Add number to image column](/assets/portal/guides/randomized-nft-drop/add-number-to-image-column.png)

Let‚Äôs use the **fill handle** to auto-fill the empty cells.

![Use auto fill](/assets/portal/guides/randomized-nft-drop/use-auto-fill.gif)

The `image` column is for the IPFS hash of the image assets, for example below.

`ipfs://QmT5ZhBwtJGPfHMgm67odJ1JyWQ58P6SqC9ukvCATYn8BG/1.png`

Now **here‚Äôs the idea**, the IPFS hash is consistent for the whole asset, it only specifies the name of your image. We are going to add IPFS hash as a **prefix** and file format (*.png*) as a **suffix** to the number we auto-fill.

`(prefix)ipfs://QmT5ZhBwtJGPfHMgm67odJ1JyWQ58P6SqC9ukvCATYn8BG/ <number> (suffix).png`

Luckily, Google Sheets has a formula for this. It is useful if you have a 10k+ collection.

To do this, get the **cell range** of the `image` column starting from the first value.

![Get the cell range](/assets/portal/guides/randomized-nft-drop/get-the-cell-range.png)

In my case it‚Äôs `H2:H26`, it is important to get the cell range because we are going to write some smart fill formula. Now place your **active cell** next to the `image` column on the second row like this.

![Active cell next to image](/assets/portal/guides/randomized-nft-drop/active-cell-next-to-image.png)

Place your cursor to the **formula bar**, but wait we need to copy the **IPFS hash** of your uploaded assets before we write some formula. Navigate back to the **Pinata** dashboard and copy the **CID**.

![Copy IPFS CID](/assets/portal/guides/randomized-nft-drop/copy-ipfs-cid.png)

Now, let‚Äôs write the formula for populating the IPFS hash of the associated image asset to each NFT data. Use the following formula and replace it with your **cell range**.

`=ARRAYFORMULA("ipfs://<your CID>/" & <cell:range> & ".png")`

Input this to the **formula bar** and hit enter! It should automatically fill out the rest of the metadata. After that, copy the extra column that has the generated values and use that to replace the row values under the `image` column by pressing `CTRL+SHIFT+V` for Windows or `‚åò+SHIFT+V` ****for MacOs. You can follow the steps below!

![Populate IPFS with a formula](/assets/portal/guides/randomized-nft-drop/populate-ipfs-with-a-formula.gif)

Let‚Äôs start randomizing the rows! Select the second row and press `CTRL+SHIFT+Arrow Down` in Windows or `‚åò+SHIFT+Arrow Down` in MacOS. This will select all of the rows in your metadata, next click the **Data** menu, and from there click the **Randomize range**. Repeat this step until you are satisfied.

![Randomize the range](/assets/portal/guides/randomized-nft-drop/randomize-the-range.gif)

You can now [download it](https://docs.google.com/spreadsheets/d/1ulejwwTQDcpmG01QD8x6IEhoyMU_VTd3dUzDCvcqioA/edit#gid=231077610), click the **File** menu navigate to **Download**, and select **CSV**. We can now use it to upload to the thirdweb dashboard. üëè

### Randomize JSON file

When it comes to randomizing the NFT data in a JSON file, it should be easy. Before we shuffle the metadata make sure to update your image base URI using your art generator. There should be a setting or a way to update your generated metadata.

For example, if you‚Äôre using **Hashlips Art Engine**, open the `config.js` and look for `baseURI` and update it with the *IPFS CID* which you can get from the **Pinata** dashboard.

![Update the IPFS base URI](/assets/portal/guides/randomized-nft-drop/update-the-ipfs-base-uri.png)

then do `yarn update_info` and the script will run and update your metadata. Your output file would be like this (red outline). Make sure the number of NFTs should match the number of your assets (green arrows).

![Match the details](/assets/portal/guides/randomized-nft-drop/match-the-details.png)

It doesn‚Äôt matter if you have a single metadata JSON file or multiple JSON files, our **batch upload** feature supports both of these. Just make sure to update the image base URI for the IPFS.

Let‚Äôs proceed to the randomizing of a **single metadata JSON file**.

Open your single metadata JSON file with your favorite code editor and copy all the contents of it and then go to this website ‚Äî [Shuffle JSON](https://json-shuffle.online/). Paste the metadata code and click the **Shuffle** button. 

![Shuffle the JSON](/assets/portal/guides/randomized-nft-drop/shuffle-the-json.png)

Copy the shuffled metadata and paste it into a new metadata JSON file. That would be the one you will upload to the dashboard.

Lastly, if you have the **multiple type of metadata JSON file** (*for example below*) you can use any third party software that can rename your files randomly.

![Multiple JSON files](/assets/portal/guides/randomized-nft-drop/multiple-json-files.png)

The idea here is to shuffle the file name (*the 1.json could be 25.json, and so on...*), select all the files and you can now upload them to the dashboard. You‚Äôre good to go!

## Upload the Metadata

Let‚Äôs upload the randomized metadata to the thirdweb dashboard using **batch upload**. Head back to the dashboard and select the NFT drop contract we created and click the **batch upload** button, drag and drop the randomized metadata file.

![Click the batch upload](/assets/portal/guides/randomized-nft-drop/click-the-batch-upload.png)

**Double-check the preview** if it is correct and randomized, and **click next**!

![Double check if randomized](/assets/portal/guides/randomized-nft-drop/double-check-if-randomized.gif)

This time we will reveal the randomized NFTs upon mint instead of [delayed reveal](https://portal.thirdweb.com/guides/nft-drop-with-delayed-reveal) (*It is more fun if you combine delayed reveal with randomized order of NFT*). Lastly, click the upload NFT and we‚Äôre good to go! ü§ò

![Upload the NFT drop files](/assets/portal/guides/randomized-nft-drop/upload-the-nft-drop-files.png)

It shouldn‚Äôt take so long as we pre-uploaded the image assets. Wait for the wallet confirmation and the randomized NFT collection will appear on your contract dashboard.

![Randomized NFT drop](/assets/portal/guides/randomized-nft-drop/randomized-nft-drop.png)

Here‚Äôs the final look, congrats! üëè

## That‚Äôs It!

You are finished! You have done a lot, let's recap:

- You pre-uploaded your image assets to the IPFS using **Pinata**.
- You randomize your NFT metadata order using no-code tools.
- You created your own NFT drop contract with claim conditions for your community to claim.

I hope you have enjoyed this guide, see you on the next one!
